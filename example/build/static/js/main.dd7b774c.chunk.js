(this["webpackJsonpreact-media-session-example"]=this["webpackJsonpreact-media-session-example"]||[]).push([[0],{11:function(e,n,t){e.exports=t(20)},20:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(4),i=t.n(c),o=t(10),u=window&&window.navigator&&"mediaSession"in window.navigator,s=navigator.mediaSession,l=function(e){var n=e.title,t=void 0===n?"":n,r=e.artist,c=void 0===r?"":r,i=e.album,o=void 0===i?"":i,u=e.artwork,l=void 0===u?[]:u,d=e.onPlay,f=e.onPause,m=e.onSeekBackward,b=e.onSeekForward,p=e.onPreviousTrack,k=e.onNextTrack,v=e.children;return Object(a.useEffect)((function(){return s.metadata=new MediaMetadata({title:t,artist:c,album:o,artwork:l}),function(){s.metadata=null}}),[t,c,o,l]),Object(a.useEffect)((function(){return s.setActionHandler("play",d),function(){s.setActionHandler("play",null)}}),[d]),Object(a.useEffect)((function(){return s.setActionHandler("pause",f),function(){s.setActionHandler("pause",null)}}),[f]),Object(a.useEffect)((function(){return s.setActionHandler("seekbackward",m),function(){s.setActionHandler("seekbackward",null)}}),[m]),Object(a.useEffect)((function(){return s.setActionHandler("seekforward",b),function(){s.setActionHandler("seekforward",null)}}),[b]),Object(a.useEffect)((function(){return s.setActionHandler("previoustrack",p),function(){s.setActionHandler("previoustrack",null)}}),[p]),Object(a.useEffect)((function(){return s.setActionHandler("nexttrack",k),function(){s.setActionHandler("nexttrack",null)}}),[k]),v||null},d=function(e){return u?r.a.createElement(l,Object.assign({},e)):e.children||null},f=[{id:3,cover:"/source/ed85fe0f62133846c51abd31f4f87811.jpeg",singers:["\u5b59\u76db\u5e0c"],name:"Someday or One Day",album:"\u60f3\u89c1\u4f60",src:"/source/\u5b59\u76db\u5e0c - Someday or One Day.m4a"},{id:2,cover:"/source/d0c670fed000d3330cf26f704b4e7a86.jpeg",singers:["Cailin Russo","Chrissy Costanza"],name:"Phoenix",album:"Phoenix",src:"/source/Cailin Russo,Chrissy Costanza - Phoenix.m4a"},{id:1,cover:"/source/b5d358e6c54c15bf0d80ad288aba377b.jpeg",singers:["\u9648\u857e"],name:"\u5f53\u6211\u8ff7\u5931\u65f6\u542c\u7740\u7684\u6b4c",album:"\u5f53\u6211\u8ff7\u5931\u65f6\u542c\u7740\u7684\u6b4c",src:"/source/\u9648\u857e - \u5f53\u6211\u8ff7\u5931\u65f6\u542c\u7740\u7684\u6b4c.mp3"}],m=t(5);function b(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  background-color: ",";\n  > .cover {\n    width: 60px;\n    height: 60px;\n  }\n  > .info {\n    flex: 1;\n    min-width: 0;\n    margin-left: 20px;\n    > .name {\n      font-size: 14px;\n    }\n    > .singers {\n      font-size: 12px;\n      color: gray;\n    }\n  }\n"]);return b=function(){return e},e}var p=t(6).a.div(b(),(function(e){return e.playing?"rgba(49, 194, 124, 0.2)":"white"})),k=function(e){var n=e.music,t=e.playing,a=e.onPlay;return r.a.createElement(p,{playing:t},r.a.createElement("img",{src:n.cover,alt:"cover",className:"cover"}),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"name"},n.name),r.a.createElement("div",{className:"singers"},n.singers.join(",")),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"button",onClick:function(){return a(n)}},t?"playing":"play"))))},v=function(){var e=Object(a.useState)(0),n=Object(o.a)(e,2),t=n[0],c=n[1],i=Object(a.useRef)(),u=Object(a.useCallback)((function(){return i.current.play()}),[]),s=Object(a.useCallback)((function(){return i.current.pause()}),[]),l=Object(a.useCallback)((function(){return i.current.currentTime-=10}),[]),m=Object(a.useCallback)((function(){return i.current.currentTime+=10}),[]),b=Object(a.useCallback)((function(){return c((function(e){var n=e-1;return n<0?n+f.length:n}))}),[]),p=Object(a.useCallback)((function(){return c((function(e){return(e+1)%f.length}))}),[]),v=f[t];return r.a.createElement(d,{title:v.name,artist:v.singers.join(","),artwork:[{src:v.cover,sizes:"512x512"}],album:v.album,onPlay:u,onPause:s,onSeekBackward:l,onSeekForward:m,onPreviousTrack:b,onNextTrack:p},r.a.createElement("div",{className:"music-list"},f.map((function(e,n){return r.a.createElement(k,{key:e.id,music:e,playing:n===t,onPlay:function(){return c(n)}})}))),r.a.createElement("audio",{src:v.src,controls:!0,autoPlay:!0,loop:!0,ref:i,style:{width:"100%",margin:"20px 0"}}))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.dd7b774c.chunk.js.map